{
	"id": "c6c3012c-8423-4b38-b438-b8895f292f6e",
	"createdAt": "2024-11-11T02:05:53.000Z",
	"createdBy": "admin",
	"extUserRoles": [],
	"extUserDepartments": [],
	"catOrder": [],
	"layout": [],
	"config": {
		"showAccessibilityFocusIndicator": true,
		"enhancement": "",
		"hideTopHeader": false,
		"hideLoginLocal": true,
		"hideLoginSelection": false
	},
	"enhancement": [
		{
			"title": "Before Startup",
			"name": "BeforeStartup",
			"description": "Triggers after UI5 is loaded but before Startup of desktop/mobile",
			"param": "",
			"sort": 20,
			"group": "Common",
			"content": "",
			"active": false,
			"disabled": false
		},
		{
			"title": "Global Functions",
			"name": "global",
			"description": "Reuse global functions declared in this enhancement spot. Use the object sap.n.Enhancement.global for methods/data",
			"param": "",
			"sort": 10,
			"group": "Common",
			"content": "",
			"active": false,
			"disabled": false
		},
		{
			"title": "Before Update",
			"name": "BeforeUpdate",
			"description": "Triggers before AppCache.Update is started and tiles/tile groups is rendered for the first time. Supports Promise",
			"param": "",
			"sort": 30,
			"group": "Common",
			"content": [
				"==OBJECT STRING==",
				"const userId = AppCache.userInfo.id;\r",
				"\r",
				"if (!userId) {\r",
				"    console.error(\"User ID is not available in AppCache.\");\r",
				"    return;\r",
				"}\r",
				"\r",
				"const apiUrl = `/api/serverscript/getuserbeforeupdate/GetRole`;\r",
				"\r",
				"\r",
				"const whereClause = JSON.stringify({ UserId: userId });\r",
				"\r",
				"$.ajax({\r",
				"    url: apiUrl,\r",
				"    method: \"POST\",\r",
				"    body: {\r",
				"      whereClause\r",
				"    },\r",
				"    success: function(response) {\r",
				"        if (response) {\r",
				"          \r",
				"            sap.n.Launchpad.BuildMenu();\r",
				"        } else {\r",
				"            console.error(\"No data found for the user.\");\r",
				"           \r",
				"        }\r",
				"    },\r",
				"    error: function(error) {\r",
				"        console.error(\"Error calling API:\", error);\r",
				"        if (error.status === 404) {\r",
				"            alert(\"User not found.\");\r",
				"        } else if (error.status === 500) {\r",
				"            alert(\"Server error occurred.\");\r",
				"        } else {\r",
				"            alert(\"An error occurred while fetching user data.\");\r",
				"        }\r",
				"        sap.n.Launchpad.BuildMenu();  \r",
				"    }\r",
				"});\r",
				"\r",
				"\r",
				"\r",
				"\r",
				"\r",
				"\r",
				"\r",
				""
			],
			"active": false,
			"disabled": false
		},
		{
			"title": "After Update",
			"name": "AfterUpdate",
			"description": "Triggers after AppCache.Update is done",
			"param": "",
			"sort": 31,
			"group": "Common",
			"content": "",
			"active": false,
			"disabled": false
		}
	],
	"name": "cab_otp",
	"title": null,
	"description": null,
	"startApp": "admindashboard",
	"startWebApp": null,
	"customLogo": null,
	"launchpadApp": "planet9_launchpad_standard",
	"hideSidemenu": false,
	"ui5Version": "customCDN",
	"ui5Url": "https://openui5.hana.ondemand.com/resources/sap-ui-core.js",
	"ui5Theme": "sap_horizon",
	"header": "",
	"customTheme": null,
	"isExternal": null,
	"emailPattern": null,
	"loginApp": "customlogin",
	"enableNotifications": false,
	"firebaseProjectId": null,
	"firebaseAppId": null,
	"defaultLoginIDP": null,
	"publicAccess": false,
	"css": null,
	"clientRequestTimeout": 120,
	"limitWidth": false,
	"searchBackgroundType": null,
	"searchBackgroundColor": null,
	"searchBackgroundShade": null,
	"usedBackgroundType": null,
	"usedBackgroundColor": null,
	"usedBackgroundShade": null,
	"searchEnableShadeCalc": null,
	"usedEnableShadeCalc": null,
	"enableTrace": false,
	"ver": "24.12.17.0810",
	"pwa_enable": false,
	"pwa_customImageIos": null,
	"pwa_customImageAndroidOld": null,
	"pwa_customImageAndroidNew": null,
	"pwa_displayMode": null,
	"pwa_themeColor": "rgb(255,255,255)",
	"pwa_backgroundColor": "rgb(255,255,255)",
	"passwordResetEmail": "cf3d0db3-8fe2-43ea-8bd6-b5d3e5055b42",
	"activationCodeEmail": null,
	"package": "146c0edc-139e-4d84-9511-c28139a2520f",
	"cat": []
}